<div class="container-fluid bg-light-subtle d-flex align-items-center justify-content-center" style="height: 90vh;">
<div class="row" style="width: 100%">
<div class="col-3"></div>
<div class="col-6">
  <div class="container d-flex justify-content-center">
    <div class="card" style="width: 80%">
      <div class="card pt-3 pb-5" style="box-shadow: 7px 7px 21px -5px rgba(0,0,0,0.38); border: none;">
        <div class="card-body d-flex flex-column justify-content-center">
                <h1 class="text-center"><%= title=="new" ? "NEW PAYMENT" : "EDIT PAYMENT" %></h1>
        </div>
      <div class="d-flex justify-content-center ">
<%= form_with(model: payment, local: true) do |form| %>
  <% if payment.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(payment.errors.count, "error") %> prohibited this payment from being saved:</h2>

      <ul>
        <% payment.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="d-flex justify-content-center flex-column form-group gap-2 mt-2">
  <%= form.label :payment_no ,"Payment ID" %>
    <%= form.text_field :payment_no, style: "width: 300px" %><br>

    <div class="form-group">
  <%= label_tag :approval_user, 'Approval User' %>
  <%= form.select :approval_user, options_from_collection_for_select(UserDetail.all, :username, lambda { |user_detail| user_detail.username.capitalize }, payment.approval_user),{} , class: 'form-select' %>
  </div>

    
      
      <div class="d-flex justify-content-center mt-3">
  <%= form.submit class: "btn btn-success" %>
  </div>
<% end %>
</div>
    </div>
    </div>
    </div>
</div>
<div class="col-3"></div>
</div>

</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  $('#approval-user-textfield').val('SakthiMass')
  var selectElement = document.getElementById('approval-user-select');
  var textFieldElement = document.getElementById('approval-user-textfield');

  selectElement.addEventListener('change', function() {
    alert("called");
    var selectedOption = this.options[this.selectedIndex];
    var selectedValue = selectedOption.value;
    textFieldElement.value = selectedValue;
  });
});




</script>